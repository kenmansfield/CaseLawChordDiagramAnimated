<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Judicial Case Law Citations</title>
<style>
@font-face {
    font-family: "Righteous";
    src: url(css/Righteous-Regular.ttf) format("truetype");
}
  html,body {
    margin: 0px;
    padding: 0px;
	width: 100%;
	height: 100%;
	overflow:hidden;
    background-color: none;
	font-family: "Righteous","Trebuchet MS", "Open Sans", Segoe UI light, Verdana, Tahoma, Helvetica, sans-serif;
  font-weight: normal;
  font-style: normal;
  }
  iframe {
	border:none;
	position:fixed;
	top:0;
	left:0;
	width:738px;
	height:700px;
		-webkit-transition: margin-left 1s;
	  -moz-transition: margin-left 1s;
	  -o-transition: margin-left 1s;
	  -ms-transition: margin-left 1s;       
	  transition: margin-left 1s;
  }
.dragdealer {
	height: 5%;
	background: #111;
	z-index: 8;
}
.dragdealer .handle {
	top: 0;
	left: 0;
	cursor: pointer;
}
.orange-bar {
	width: 8%;
	height: 100%;
	background: #665;
	color: #222;
	font-size: 140%;
	line-height: 160%;
	padding-left:0.3%;
	text-align: center;
	font-weight: bold;
}
.orange-bar:hover {
	background: #997
}
.dragdealer .disabled {
	background: #898989
}
#reload:hover #arrows {
	fill:#444;
}
#reload, #title, #bigyear, #bigyear2, #timeslider, #author, #author2, #author3 {
	-webkit-transition: opacity 0.5s;
	  -moz-transition: opacity 0.5s;
	  -o-transition: opacity 0.5s;
	  -ms-transition: opacity 0.5s;       
	  transition: opacity 0.5s;
}
a {
	cursor:pointer;
	text-decoration:none;
	font-size:10px;
	color:#000;
}
a:hover, #author3:hover {
	text-decoration:underline;
}
</style>
<script src="js/dragdealer.js"></script>
<script src="js/readResponse.js"></script>
</head>

<script src="js/readResponse.js"></script>

<script>
function onSubmit()
{
	//parent.onSubmit();
	dataSubmitted();
}

</script>


<body>

	<form id="authForm">
	   User Name & Password:&nbsp
	  <input type="text" name="username" value="kenmansfield">
	  <input type="text" name="password" value="l1IJD9bzklvKHXto0lojGk78ujdzE7J7"><br>
	</form> 
	
	<form id="inputForm">
	   Case Number & Year:&nbsp&nbsp&nbsp&nbsp&nbsp
	  <input type="number" name="theCaseNum" value="173">  
	  <input type="number" name="theCaseYear" value="2013">
	</form>
	
<!-- 	<button class="orange-bar" onclick="onSubmit()" id="searchButton" style="margin:0px;padding:0px;top:80px;left:0px;width:60px; height:25px; position:absolute;line-height:20px;font-size:12px;" title="Search Case"> -->
<!--         Search -->
<!--      </button> -->
     
  	<button class="orange-bar" onclick="onSubmit()" style="height:48px;width:65px;font-size:16px;" >Search</button>



	<span style="color:red" id="errorMessage"></span>	
	</head>

	
<div id="container" style="width:1272px;height:700px;margin:0px;">
<div id="title" style="position:fixed;left:525px;z-index:-1;font-size:48px;text-align:center;margin-top:70px;color:#111;opacity:0;">Judicial<br/>Case Laws</div>
<div id="bigyear" style="position:fixed;left:200px;z-index:100;font-size:400px;text-align:center;margin-top:110px;color:#000;opacity:0;visibility:hidden;">2014</div>
<div id="author" style="position:fixed;left:585px;z-index:100;font-size:48px;text-align:center;margin-top:573px;color:#111;opacity:0;">
	
	<a href="http://knomos.ca" target="_blank"><img src="KM547.png" alt="Try something new. Everyday." title="Ken Mansfield, CS 547." style="width:70px;height:70px;border:solid 1px #111;margin-top:5px;"/></a>
</div>
<div id="author2" style="position:fixed;left:5px;z-index:100;font-size:48px;text-align:center;margin-top:562px;color:#111;opacity:0;">
	
	<a href="http://www.delimited.io/blog/2014/11/18/interactive-chord-diagrams-in-d3" target="_blank" title="inspired by"><div style="color:#665;">inspired by</div>delimited.io</a><br>

	
</div>
<div id="author3" style="position:fixed;right:10px;z-index:100;font-size:28px;text-align:center;margin-top:620px;color:#665;opacity:0;cursor:pointer;" onclick="window.parent.document.getElementById('content').src='parent.html'" title="reload page">
	reload page
	
</div>

<iframe id="iframe1" style="margin-left:600px;" src="iframe1.html"></iframe>
<!--  <iframe id="iframe2" style="margin-left:611px;" src="iframe2.html"></iframe>-->

</div>
<div  id="bigyear2"  class="dragdealer" style="bottom:0px;left:0px;width:100%;position:fixed;opacity:0; background-color:#ddd;z-index:5000;"></div>
<div  id="timeslider" title="<-  drag slider, scroll or use arrow keys to change year  ->" class="dragdealer" style="bottom:0px;left:0px;width:100%;position:fixed;opacity:0;">
<div style="position:fixed;left:5%;z-index:-1;font-size:110%;color:#222;margin-top:0.4%;"><-  drag slider, scroll or use arrow keys to change year  -></div>
<div class="handle orange-bar" id="timehandle">2014</div>
</div>

<script>


function trans(){
	var a=document.getElementById('iframe1').style.marginLeft;
	document.getElementById('iframe1').style.marginLeft=document.getElementById('iframe2').style.marginLeft;
	//document.getElementById('iframe2').style.marginLeft=a;
	//document.getElementById('reload').style.opacity=0;
	//setTimeout(function(){document.getElementById('reload').style.opacity=1;},500);
	document.getElementById('title').style.opacity=0;
	setTimeout(function(){document.getElementById('title').style.opacity=1;},500);
	document.getElementById('author').style.opacity=0;
	setTimeout(function(){document.getElementById('author').style.opacity=1;},500);
	}

var timedragdealer=new Dragdealer("timeslider", {
	x: 1,
	steps: 2014-1951+1,
	animationCallback: function(a, b) {
		var theSteps = 1;
		if(timedragdealer)
		{
			theSteps = timedragdealer.options.steps;
		}
		document.getElementById('timehandle').innerHTML=getSelectedCase(Math.round(a*theSteps));
	},
	callback: function(a, b) {
		
		var theSteps = timedragdealer.options.steps;
		document.getElementById('iframe1').contentWindow.angular.element("body").scope().selected_year=getSelectedCase(Math.round(a * theSteps));
		document.getElementById('iframe1').contentWindow.angular.element("body").scope().update();
		
		document.getElementById('bigyear').innerHTML=getSelectedCase(Math.round(a * theSteps));
		
		setTimeout(function(){
			setTimeout(function(){
				document.getElementById('bigyear').style.opacity=0;
				setTimeout(function(){
					document.getElementById('bigyear').style.visibility='hidden';},
					700);
				},
			700);
			document.getElementById('bigyear').style.visibility='visible';
			document.getElementById('bigyear').style.opacity=0.3;},
		2100);
	}
});



function updateTimeSlider(newNumberOfSteps)
{
	document.getElementById('timeslider').style.opacity=1;
	timedragdealer.options.steps = newNumberOfSteps;
 	timedragdealer.init();
 	timedragdealer.setValue(0.0);
 
 	//need to set bigyear correctly here as well.
 	console.log(newNumberOfSteps);
}
	
//   document.addEventListener("keydown", function ( event ) {
// 	if (( event.keyCode >= 33 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40)) {
// 		switch( event.keyCode ) {
// 			case 34: // pg up
// 			case 37: // left
// 			case 38: // up
// 					timedragdealer.setValue((Math.max(document.getElementById('timehandle').innerHTML-1,1951)-1951) / (2014-1951), 0, false)
// 					 break;
// 			case 33: // pg down
// 			case 39: // right
// 			case 40: // down 
// 					 timedragdealer.setValue((document.getElementById('timehandle').innerHTML-1951+1) / (2014-1951), 0, false)
// 					 break;
// 		}
		
// 		event.preventDefault();
// 	}
//    }, false);
   
//    document.addEventListener("mousewheel", function ( event ) {
// 	if (event.wheelDelta<0) timedragdealer.setValue((Math.max(document.getElementById('timehandle').innerHTML-1,1951)-1951) / (2014-1951), 0, false)
// 	else timedragdealer.setValue((Math.min(document.getElementById('timehandle').innerHTML-1+2,2014)-1951) / (2014-1951), 0, false)
// 	//event.preventDefault();
//    }, false);
   
			
	var rescale = function() {
	//scale content
	var scal = Math.min((document.getElementById("container").parentElement.offsetWidth) / document.getElementById("container").offsetWidth, (document.getElementById("container").parentElement.offsetHeight) / document.getElementById("container").offsetHeight)
	document.getElementById("container").style.WebkitTransform = "scale(" + scal + ")";
	document.getElementById("container").style.OTransform = "scale(" + scal + ")";
	document.getElementById("container").style.MozTransform = "scale(" + scal + ")";
	document.getElementById("container").style.msTransform = "scale(" + scal + ")";
	document.getElementById("container").style.Transform = "scale(" + scal + ")";

	document.getElementById("container").style.WebkitTransformOrigin = "0 0";
	document.getElementById("container").style.OTransformOrigin = "0 0";
	document.getElementById("container").style.MozTransformOrigin = "0 0";
	document.getElementById("container").style.msTransformOrigin = "0 0";
	document.getElementById("container").style.TransformOrigin = "0 0";

	};
	
	window.onresize = function() {
	rescale();
	}
	//init content
	rescale();
	setTimeout(function()
	{
		document.getElementById('timeslider').style.opacity=0;
	},5000)
	
	setTimeout(function(){
				setTimeout(function(){
					document.getElementById('bigyear').style.opacity=0;
					document.getElementById('bigyear2').style.opacity=0;
					setTimeout(function(){
						document.getElementById('bigyear').style.visibility='hidden';
						document.getElementById('bigyear2').style.visibility='hidden';},
						700);
					},
				700);
				document.getElementById('bigyear').style.visibility='visible';
				document.getElementById('bigyear').style.opacity=0.3;
				document.getElementById('bigyear2').style.visibility='visible';
				document.getElementById('bigyear2').style.opacity=0.5;},
			8100);
	
	setTimeout(function(){
		document.getElementById('title').style.opacity=1;
	},10000)
	
	//setTimeout(function(){
	//	document.getElementById('reload').style.opacity=1;
	//},11000)
	setTimeout(function(){
		document.getElementById('author').style.opacity=1;
		document.getElementById('author2').style.opacity=1;
		document.getElementById('author3').style.opacity=1;
	},12000)
</script>
</body>

</html>